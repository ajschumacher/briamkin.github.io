
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Using Beautiful Soup to Scrape Box Office Mojo</title>
    <meta name="description" content="BeautifulSoup is a super intuitive scraping tool for Python. It simply just works and keeps the syntax very readable.">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon" sizes="57x57" href="../assets/favicon/apple-touch-icon-57x57.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="60x60" href="../assets/favicon/apple-touch-icon-60x60.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="72x72" href="../assets/favicon/apple-touch-icon-72x72.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/favicon/apple-touch-icon-76x76.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="114x114" href="../assets/favicon/apple-touch-icon-114x114.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="120x120" href="../assets/favicon/apple-touch-icon-120x120.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="144x144" href="../assets/favicon/apple-touch-icon-144x144.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="152x152" href="../assets/favicon/apple-touch-icon-152x152.png?v=cad3784cd1">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon/apple-touch-icon-180x180.png?v=cad3784cd1">
    <link rel="icon" type="image/png" href="../assets/favicon/favicon-32x32.png?v=cad3784cd1">
    <link rel="icon" type="image/png" href="../assets/favicon/android-chrome-192x192.png?v=cad3784cd1">
    <link rel="icon" type="image/png" href="../assets/favicon/favicon-96x96.png?v=cad3784cd1">
    <link rel="icon" type="image/png" href="../assets/favicon/favicon-16x16.png?v=cad3784cd1">
    <link rel="manifest" href="../assets/favicon/manifest.json?v=cad3784cd1">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/assets/favicon/mstile-144x144.png?v=cad3784cd1">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=cad3784cd1">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic%7COpen+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="../assets/css/prism.css?v=cad3784cd1">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-62074703-1', 'auto');
      ga('send', 'pageview');

    </script>
    <link rel="canonical" href="http://briank.im/scraping/">
    
    <meta property="og:site_name" content="loving learning">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Using Beautiful Soup to Scrape Box Office Mojo">
    <meta property="og:description" content="BeautifulSoup is a super intuitive scraping tool for Python. It simply just works and keeps the syntax very readable....">
    <meta property="og:url" content="http://briank.im/scraping/">
    <meta property="article:published_time" content="2015-04-14T00:45:00.000Z">
    <meta property="article:modified_time" content="2015-04-29T21:21:12.641Z">
    <meta property="article:tag" content="projects">
    <meta property="article:tag" content="scraping">
    <meta property="article:tag" content="beautifulsoup">
    <meta property="article:tag" content="python">
    <meta property="article:tag" content="luther">
    <meta property="article:tag" content="tutorial">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Using Beautiful Soup to Scrape Box Office Mojo">
    <meta name="twitter:description" content="BeautifulSoup is a super intuitive scraping tool for Python. It simply just works and keeps the syntax very readable....">
    <meta name="twitter:url" content="http://briank.im/scraping/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "loving learning",
    "author": {
        "@type": "Person",
        "name": "bk",
        "image": "http://briank.im/content/images/2015/04/profile.jpg",
        "url": "http://briank.im/author/bk",
        "sameAs": ""
    },
    "headline": "Using Beautiful Soup to Scrape Box Office Mojo",
    "url": "http://briank.im/scraping/",
    "datePublished": "2015-04-14T00:45:00.000Z",
    "dateModified": "2015-04-29T21:21:12.641Z",
    "keywords": "projects, scraping, beautifulsoup, python, luther, tutorial",
    "description": "BeautifulSoup is a super intuitive scraping tool for Python. It simply just works and keeps the syntax very readable...."
}
    </script>

    <meta name="generator" content="Ghost 0.5">
    <link rel="alternate" type="application/rss+xml" title="loving learning" href="http://briank.im/rss/">
</head>
<body class="post-template tag-projects tag-scraping tag-beautifulsoup tag-python tag-luther tag-tutorial">

	<header id="site-head">
		<div class="vertical">
			<div id="site-head-content" class="inner">

				<a id="blog-logo" href="http://briank.im"><img src="../content/images/2015/04/bk_logo-150.png" alt="Blog Logo"></a>
				<h1 class="blog-title">loving learning</h1>
				<h2 class="blog-description">a journey to learn as much as i can</h2>
				    <h3 class="blog-nav-item"><a class="header-link" href="http://briank.im/tag/project-write-ups/">Projects</a></h3>
    <h3 class="blog-nav-item"><a class="header-link" href="http://briank.im/tag/tutorial/">Learn</a></h3>
    <h3 class="blog-nav-item"><a class="header-link" href="http://briank.im/about/">About</a></h3>
    <h3 class="blog-nav-item"><a class="header-link" href="http://briank.im/contact/">Contact</a></h3>

			</div>
		</div>
	</header>

    

<main class="content" role="main">

    <article class="post tag-projects tag-scraping tag-beautifulsoup tag-python tag-luther tag-tutorial">




        <span class="post-meta"><time datetime="2015-04-13">13 Apr 2015</time> on <a href="../tag/projects/">projects</a> | <a href="../tag/scraping/">scraping</a> | <a href="../tag/beautifulsoup/">beautifulsoup</a> | <a href="../tag/python/">python</a> | <a href="../tag/luther/">luther</a> | <a href="../tag/tutorial/">tutorial</a></span>

        <h1 class="post-title">Just Scraping By</h1>

        <section class="post-content" id="jetzt-container">
            <h3 id="beautifulsoup">BeautifulSoup</h3>

<p><img src="../content/images/2015/04/soup.jpg" alt="Beautiful Soup">
Today, we got into a python tool called <a href="http://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a> (v.4) that is used to scrape data from websites. This wasn't my first time scraping since I have some experience using differnt PHP tools, especially <a href="http://simplehtmldom.sourceforge.net/">SimpleHTMLDom</a>. But, after using BeautifulSoup just for a few minutes, I quickly realized how superior of a tool it is. It is quick to learn with very logical syntax and for the most part, it just works. There's less time spent debugging, which means more time spent actually solving the main problem.</p>

<h3 id="projectluther">Project Luther</h3>

<p>Our main problem is our 2nd project called Project Luther, named after: <br>
<img src="../content/images/2015/04/luther-495w.jpg" alt="Luther">
Yea, I don't know who he is either. I actually thought it was Luther Vandross when I first saw the picture... <br>
<img src="../content/images/2015/04/F6023ABFC1C2D06713934B50D0A4D9242013166122812173.jpg" alt="Luther Vandross">
Don't they look alike? Anyways, we don't actually know the point of this project yet except that it will involve scraping web data. I'm assuming that most of the challenges (separate) from the project will involve scraping Movie / Film data.</p>

<h3 id="boxofficemojo">Box Office Mojo</h3>

<p>We started playing around with a site today called Box Office Mojo that contains a huge database of movies. So I decided to go all out, and just scrape every single movie on the site. <br>
<img src="../content/images/2015/04/Screen-Shot-2015-04-14-at-1-50-58-AM.png" alt="Box Office Mojo Screenshot Front Page">
So the process is simple. Basically, I go to the index page and then iterate through each letter (#,A-Z) and through each sub-section of each page and scrape the links to the movies. <br>
<img src="../content/images/2015/04/Screen-Shot-2015-04-14-at-1-56-49-AM.png" alt="">
Then I follow the link to each movie and scrape movie data from the single movie page. I was able to scrape all the movies along with their genres, release dates, distributors, runtimes, ratings, budgets and domestic grosses.<br> <br>
I thought I'd share my initial code for getting all the movie urls from the pages:  </p>

<pre><code class="language-python">import urllib2  
from bs4 import BeautifulSoup  
import logging  
logging.basicConfig(level=logging.DEBUG)



def get_all_movies():  
    """ returns all the movie urls from boxofficemojo.com in a list"""

    # Alphabet loop for how movies are indexed including
    # movies that start with a special character or number
    index = ["NUM"] + list(string.ascii_uppercase)

    # List of movie urls
    movies_list = []

    # Loop through the pages for each letter
    for letter in index:

        # Loop through the pages within each letter
        for num in range(1, 20):
            url = ("http://www.boxofficemojo.com/movies/alphabetical.htm?"
                   "letter=" + letter + "&amp;page=" + str(num))
            try:
                page = urllib2.urlopen(url)
                soup = BeautifulSoup(page)
                rows = soup.find(id="body").find("table").find("table").find_all(
                    "table")[1].find_all("tr")

                # skip index row
                if len(rows) &gt; 1:
                    counter = 1
                    for row in rows:

                        # skip index row
                        if counter &gt; 1:
                            link = row.td.font.a['href']

                            # don't add duplicates
                            if link not in movies_list:
                                movies_list.append(link)

                        counter += 1
            except Exception, e:
                logging.exception(e)

    return movies_list
</code></pre>

<p><br>  </p>

<h5 id="whatilearnedtoday">What I Learned Today:</h5>

<pre><code>BeautifulSoup is simply beautiful.  
</code></pre>
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>bk</h4>
                    <p>There are three things I love in this life: learning, efficiency and my wife, not necessarily in that order</p>
                </section>

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Just%20Scraping%20By&amp;url=http://briank.im/scraping/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://briank.im/scraping/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://briank.im/scraping/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
			<!--<div id="disqus_thread"></div>-->
    <script type="text/javascript">
//        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
//        var disqus_shortname = '[your forum shortname]'; // required: replace example with your forum shortname
//
//        /* * * DON'T EDIT BELOW THIS LINE * * */
//        (function() {
//            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
//            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
//            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
//        })();
    </script>
    <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
    <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
        </footer>


    </article>

</main>



    <script src="../public/jquery.js?v=cad3784cd1"></script>

    <script type="text/javascript" src="../assets/js/index.js?v=cad3784cd1"></script>
    <script type="text/javascript" src="../assets/js/prism.js?v=cad3784cd1"></script>
</body>
